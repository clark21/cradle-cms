<select
    class="field-detail form-control"
    data-do="field-detail"
    data-on="change"
    name="meta_fields[{{@index}}][detail][format]"
>
    <option value="none">No Filter</option>
    <optgroup class="filter-group-string" label="String Filters">
        <option value="lower"
            {{~#when detail.format '===' 'lower'}} selected{{/when~}}
        >Lower Case</option>
        <option value="upper"
            {{~#when detail.format '===' 'upper'}} selected{{/when~}}
        >Upper Case</option>
        <option value="capital"
            {{~#when detail.format '===' 'capital'}} selected{{/when~}}
        >Capitalize</option>
        <option value="length"
            {{~#when detail.format '===' 'length'}} selected{{/when~}}
        >Character Length</option>
        <option value="words"
            {{~#when detail.format '===' 'words'}} selected{{/when~}}
        >Word Length</option>
    </optgroup>
    <optgroup class="filter-group-number" label="Number Filters">
        <option value="number"
            {{~#when detail.format '===' 'number'}} selected{{/when~}}
        >Comma Format</option>
        <option value="price"
            {{~#when detail.format '===' 'price'}} selected{{/when~}}
        >Price Format</option>
        <option value="yes"
            {{~#when detail.format '===' 'yes'}} selected{{/when~}}
        >Yes/No</option>
    </optgroup>
    <optgroup class="filter-group-date" label="Date Filters">
        <option value="date"
            {{~#when detail.format '===' 'date'}} selected{{/when~}}
        >Date Format</option>
        <option value="relative"
            {{~#when detail.format '===' 'relative'}} selected{{/when~}}
        >Relative Format</option>
    </optgroup>
    <optgroup class="filter-group-date" label="HTML Filters">
        <option value="link"
            {{~#when detail.format '===' 'link'}} selected{{/when~}}
        >Link</option>
        <option value="image"
            {{~#when detail.format '===' 'image'}} selected{{/when~}}
        >Image</option>
        <option value="email"
            {{~#when detail.format '===' 'email'}} selected{{/when~}}
        >Email</option>
        <option value="phone"
            {{~#when detail.format '===' 'phone'}} selected{{/when~}}
        >Phone</option>
    </optgroup>
    <optgroup class="filter-group-json" label="JSON Filters">
        <option value="comma"
            {{~#when detail.format '===' 'comma'}} selected{{/when~}}
        >Comma Separated</option>
        <option value="space"
            {{~#when detail.format '===' 'space'}} selected{{/when~}}
        >Space Separated</option>
        <option value="tag"
            {{~#when detail.format '===' 'tag'}} selected{{/when~}}
        >Tags</option>
    </optgroup>
    <optgroup label="_________">
        <option value="hide"
            {{~#when detail.format '===' 'hide'}} selected{{/when~}}
        >Dont Show</option>
    </optgroup>
</select>

{{#if detail.parameters}}
    {{#is_array detail.parameters}}
        <div class="input-options">
            <div class="input-pair">
                <input
                    name="meta_fields[{{@index}}][detail][parameters][0]"
                    class="form-control"
                    type="text"
                    value="{{detail.parameters.0}}"
                />
                <input
                    name="meta_fields[{{@index}}][detail][parameters][1]"
                    class="form-control"
                    type="text"
                    value="{{detail.parameters.1}}"
                />
            </div>
        </div>
    {{else}}
        <div class="input-input">
            <input
                class="form-control"
                name="meta_fields[{{@index}}][detail][parameters]"
                type="text"
                value="{{detail.parameters}}"
            />
        </div>
    {{/is_array}}
{{/if}}
